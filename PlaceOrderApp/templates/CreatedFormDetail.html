{% extends 'base.html' %}
{% load static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/bootstrap-theme.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/jsoneditor.min.css' %}" />
{% endblock %}

{% block content %}
    <strong>{{ data }}</strong>
{#    <div class="row">#}
{#        <div class="col-lg-5 col-md-5">#}
{#            <form id="my-form">#}
{#            </form>#}
{#        </div>#}
{#        <div class="row text-center">#}
{#        <button type="submit" class="btn btn-default" id="json-to-form">Form &lt;&lt; Json</button>#}
{#        </div>#}
{#    </div>#}
{% endblock %}

{% block script %}
    <script src="{% static 'js/jsoneditor.min.js' %}"></script>
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/jform.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script>
    $(document).ready(function () {

      $('#form-to-json').click(function () {
        var obj = $('#my-form').jform();
        editor.set(JSON.parse(obj));
      });

      $('#json-to-form').click(function () {
        var json = editor.get();
        $('#my-form').jform(json);
      });

      // create the editor
      var container = document.getElementById('jsoneditor');
      var options = {search: false, history: false};
      var editor = new JSONEditor(container, options);

    });
  </script>
{% endblock %}